mixed-port: 11451
allow-lan: true
bind-address: "*"
mode: rule
log-level: info
ipv6: true
external-controller: 127.0.0.1:9090
hosts:
  #dns.emir-eins.ink: 192.168.1.254

  # ======= Steam++ ======= #
  steam-chat.com: 127.0.0.1
  steamcdn-a.akamaihd.net: 127.0.0.1
  cdn.akamai.steamstatic.com: 127.0.0.1
  community.akamai.steamstatic.com: 127.0.0.1
  avatars.akamai.steamstatic.com: 127.0.0.1
  media.steampowered.com: 127.0.0.1
  store.steampowered.com: 127.0.0.1
  api.steampowered.com: 127.0.0.1
  help.steampowered.com: 127.0.0.1
  steamcommunity.com: 127.0.0.1
  www.steamcommunity.com: 127.0.0.1
  local.steampp.net: 127.0.0.1
profile:
  store-selected: false
  store-fake-ip: true
nameserver:
  - 119.29.29.29
  #- tls://dns.emir-eins.ink:50853
  #- https://dns.emir-eins.ink:50443/dns-query
proxy-providers:

proxy-groups:
  - name: 🌎 全球加速
    type: select
    proxies:
      - ♻️ 自动选择
      - 🇭🇰 香港节点
      - 🇹🇼 台湾节点
      - 🇸🇬 新加坡节点
      - 🇯🇵 日本节点
      - 🇺🇸 美国节点
  - name: 🎭 黑白名单
    type: select
    proxies:
      - 🌎 全球加速
      - ☠️ 墙国内网
  - name: 🎮 游戏平台
    type: select
    proxies:
      - 🌎 全球加速
      - ☠️ 墙国内网
  - name: 🪪 IP属地
    type: select
    proxies:
      - 🌎 全球加速
      - ☠️ 墙国内网
  - name: 📺 港台番剧
    type: select
    proxies:
      - ☠️ 墙国内网
      - 🇭🇰 香港节点
      - 🇹🇼 台湾节点
  - name: ☠️ 墙国内网
    type: select
    proxies:
      - DIRECT
  - name: ♻️ 自动选择
    type: url-test
    url: http://captive.apple.com/generate_204
    interval: 300
    tolerance: 50
    use:
      - SubStore-Clash
  - name: 🇭🇰 香港节点
    type: url-test
    url: http://captive.apple.com/generate_204
    interval: 300
    tolerance: 50
    use:
      - SubStore-Clash.HK
  - name: 🇹🇼 台湾节点
    type: url-test
    url: http://captive.apple.com/generate_204
    interval: 300
    tolerance: 50
    use:
      - SubStore-Clash.TW
  - name: 🇸🇬 新加坡节点
    type: url-test
    url: http://captive.apple.com/generate_204
    interval: 300
    tolerance: 50
    use:
      - SubStore-Clash.SG
  - name: 🇯🇵 日本节点
    type: url-test
    url: http://captive.apple.com/generate_204
    interval: 300
    tolerance: 50
    use:
      - SubStore-Clash.JP
  - name: 🇺🇸 美国节点
    type: url-test
    url: http://captive.apple.com/generate_204
    interval: 300
    tolerance: 50
    use:
      - SubStore-Clash.US
rule-providers:
  Direct:
    type: http
    behavior: classical
    url: https://gitexpedite.emir-eins.ink/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Direct/Direct.yaml
    path: ./ClashPremium/Direct.yaml
    interval: 86400
  Advertising:
    type: http
    behavior: classical
    url: https://gitexpedite.emir-eins.ink/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising_Classical.yaml
    path: ./ClashPremium/Advertising.yaml
    interval: 86400
  Hijacking:
    type: http
    behavior: classical
    url: https://gitexpedite.emir-eins.ink/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Hijacking/Hijacking.yaml
    path: ./ClashPremium/Hijacking.yaml
    interval: 86400
  Privacy:
    type: http
    behavior: classical
    url: https://gitexpedite.emir-eins.ink/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Privacy/Privacy_Classical.yaml
    path: ./ClashPremium/Privacy.yaml
    interval: 86400
  CloudGlobal:
    type: http
    behavior: classical
    url: https://gitexpedite.emir-eins.ink/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Cloud/CloudGlobal/CloudGlobal_Classical.yaml
    path: ./ClashPremium/CloudGlobal.yaml
    interval: 86400
  CloudCN:
    type: http
    behavior: classical
    url: https://gitexpedite.emir-eins.ink/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Cloud/CloudCN/CloudCN.yaml
    path: ./ClashPremium/CloudCN.yaml
    interval: 86400
  Steam:
    type: http
    behavior: classical
    url: https://gitexpedite.emir-eins.ink/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Steam.yaml
    path: ./ClashPremium/Steam.yaml
    interval: 86400
  Bilibili:
    type: http
    behavior: classical
    url: https://gitexpedite.emir-eins.ink/https://raw.githubusercontent.com/ALyCE233/Bili-UPOS-Roaming/main/BiliBili-Clash.yml
    path: ./ClashPremium/Bilibili.yaml
    interval: 86400
  Global:
    type: http
    behavior: classical
    url: https://gitexpedite.emir-eins.ink/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Global.yaml
    path: ./ClashPremium/Global.yaml
    interval: 86400
  China:
    type: http
    behavior: classical
    url: https://gitexpedite.emir-eins.ink/https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/China.yaml
    path: ./ClashPremium/China.yaml
    interval: 86400
rules:
  - DOMAIN,passport.bilibili.com,🇺🇸 美国节点
  - DOMAIN-SUFFIX,akamaized.net,☠️ 墙国内网
  - DOMAIN-SUFFIX,steamcontent.com,☠️ 墙国内网
  
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,203.107.1.1/24,REJECT
  - IP-CIDR,183.240.197.130/32,DIRECT
  
  # ======= Steam++ ======= #
  - DOMAIN,steam-chat.com,DIRECT
  - DOMAIN,steamcdn-a.akamaihd.net,DIRECT
  - DOMAIN,cdn.akamai.steamstatic.com,DIRECT
  - DOMAIN,community.akamai.steamstatic.com,DIRECT
  - DOMAIN,avatars.akamai.steamstatic.com,DIRECT
  - DOMAIN,media.steampowered.com,DIRECT
  - DOMAIN,store.steampowered.com,DIRECT
  - DOMAIN,api.steampowered.com,DIRECT
  - DOMAIN,help.steampowered.com,DIRECT
  - DOMAIN,steamcommunity.com,DIRECT
  - DOMAIN,www.steamcommunity.com,DIRECT
  - DOMAIN,local.steampp.net,DIRECT
  # ======= 规则订阅 ======= #
  - RULE-SET,Direct,☠️ 墙国内网
  - RULE-SET,Advertising,REJECT
  - RULE-SET,Hijacking,REJECT
  - RULE-SET,Privacy,REJECT
  - RULE-SET,CloudGlobal,☠️ 墙国内网
  - RULE-SET,CloudCN,☠️ 墙国内网
  - RULE-SET,Steam,🎮 游戏平台
  - RULE-SET,Bilibili,📺 港台番剧
  - RULE-SET,Global,🌎 全球加速
  - RULE-SET,China,☠️ 墙国内网
  - GEOIP,LAN,DIRECT
  - GEOIP,CN,☠️ 墙国内网
  - MATCH,🎭 黑白名单
