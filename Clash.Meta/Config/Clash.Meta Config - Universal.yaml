# æœ€åŽæ›´æ–°æ—¶é—´:1691416375   2023-08-07 21:52:55 UTC+8
# æ­¤è§„åˆ™åªå…¼å®¹Clash.Metaåˆ†æ”¯,ä¸å…¼å®¹Clashä»¥åŠClash Premiumåˆ†æ”¯!!!
# Clash.Metaå®˜ç½‘ https://wiki.metacubex.one

# æ”¯æŒ Clash.Meta çš„å®¢æˆ·ç«¯
# æŽ¨èclash-verge,æœ¬é…ç½®çš„çŽ¯å¢ƒå°±æ˜¯ç”¨çš„è¿™ä¸ª,ä¸”åŒæ—¶æ”¯æŒWindows/MacOS/Linux
# Windows:
  #clash-verge https://github.com/zzzgydi/clash-verge
  #ClashMetaForWindows_Mini https://github.com/kogekiplay/ClashMetaForWindows_Mini
  #clashN https://github.com/2dust/clashN
  #v2rayN https://github.com/2dust/v2rayN
  #Clash.Mini https://github.com/MetaCubeX/Clash.Mini

# Mac OS:
  #clash-verge https://github.com/zzzgydi/clash-verge
  #ClashX.Meta https://github.com/MetaCubeX/ClashX.Meta

# Linux:
  #clash-verge https://github.com/zzzgydi/clash-verge

# å…¶ä»–å®¢æˆ·ç«¯,å¦‚OpenWRT,Android,IOS,Shellè¯·å‰å¾€å®˜ç½‘è‡ªè¡ŒæŸ¥çœ‹


# å®Œæ•´ç‰ˆé…ç½®æ–‡ä»¶è¯´æ˜Ž:https://github.com/MetaCubeX/Clash.Meta/blob/Meta/docs/config.yaml

### ç«¯å£è®¾ç½®
#! ä¸€èˆ¬ä¼šè¢«GUIè¦†ç›–
# port: 6152          # HTTP(S) ä»£ç†æœåŠ¡å™¨ç«¯å£
# socks-port: 6153    # SOCKS5 ä»£ç†ç«¯å£
# redir-port: 6154    # é€æ˜Žä»£ç†ç«¯å£ï¼Œç”¨äºŽ Linux å’Œ MacOS
mixed-port: 6155      # HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£

### å±€åŸŸç½‘è¿žæŽ¥è®¾ç½®
allow-lan: true
bind-address: "*"

### è¿›ç¨‹åŒ¹é…æ¨¡å¼ [always|strict|off]
#! always, å¼€å¯,å¼ºåˆ¶åŒ¹é…æ‰€æœ‰è¿›ç¨‹
#! strict, é»˜è®¤,ç”± clash åˆ¤æ–­æ˜¯å¦å¼€å¯
#! off, ä¸åŒ¹é…è¿›ç¨‹,æŽ¨èåœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨æ­¤æ¨¡å¼
find-process-mode: strict

### æ¨¡å¼è®¾ç½®
mode: rule

### æ—¥å¿—ç­‰çº§ [silent|error|warning|info|debug]
log-level: warning

### å¼€å¯ IPv6 æ€»å¼€å…³,å…³é—­é˜»æ–­æ‰€æœ‰ IPv6 é“¾æŽ¥å’Œå±è”½ DNS è¯·æ±‚ AAAA è®°å½•
ipv6: true

### ç»Ÿä¸€å»¶è¿Ÿ
#! æ›´æ¢å»¶è¿Ÿè®¡ç®—æ–¹å¼,åŽ»é™¤æ¡æ‰‹ç­‰é¢å¤–å»¶è¿Ÿ
unified-delay: true

### TCP å¹¶å‘
#! TCP å¹¶å‘è¿žæŽ¥æ‰€æœ‰ IP, å°†ä½¿ç”¨æœ€å¿«æ¡æ‰‹çš„ TCP
tcp-concurrent: true

### å…¨å±€ TLS æŒ‡çº¹ï¼Œä¼˜å…ˆä½ŽäºŽ proxy å†…çš„ client-fingerprint
#! é€‰é¡¹: ["chrome"|"firefox"|"safari"|"ios"|"random"|"none"]
global-client-fingerprint: "random"

### WebUI/RESTful APIè®¾ç½®
#! # RESTful API ç›‘å¬åœ°å€
external-controller: 127.0.0.1:62382
#! RESTful API HTTPS ç›‘å¬åœ°å€ï¼Œéœ€è¦é…ç½® tls éƒ¨åˆ†é…ç½®æ–‡ä»¶
#external-controller-tls: 0.0.0.0:62383
#! é…ç½® WEB UI ç›®å½•ï¼Œä½¿ç”¨ http://{{external-controller}}/ui è®¿é—®
#external-ui: /path/to/ui/folder
#tls:
#  certificate: string # è¯ä¹¦ PEM æ ¼å¼ï¼Œæˆ–è€… è¯ä¹¦çš„è·¯å¾„
#  private-key: string # è¯ä¹¦å¯¹åº”çš„ç§é’¥ PEM æ ¼å¼ï¼Œæˆ–è€…ç§é’¥è·¯å¾„

### hostsè®¾ç½®
hosts:
  # >>> DNS::è…¾è®¯ <<< #
  #'doh.pub': 1.12.12.12
  #'doh.pub': 120.53.53.53
  # >>> DNS::é˜¿é‡Œ <<< #
  #'dns.alidns.com': 223.5.5.5
  #'dns.alidns.com': 223.6.6.6
  #"dns.alidns.com": '2400:3200::1'
  #"dns.alidns.com": '2400:3200:baba::1'

### ç¼“å­˜
profile:
  store-selected: true    # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©ï¼Œä»¥ä¾›ä¸‹æ¬¡å¯åŠ¨æ—¶ä½¿ç”¨
  store-fake-ip: true     # å‚¨å­˜ fakeip æ˜ å°„è¡¨ï¼ŒåŸŸåå†æ¬¡å‘ç”Ÿè¿žæŽ¥æ—¶ï¼Œä½¿ç”¨åŽŸæœ‰æ˜ å°„åœ°å€

### GEODATAè®¾ç½®
#! æ›´æ”¹GEOIPä½¿ç”¨æ–‡ä»¶,mmdbæˆ–è€…dat
geodata-mode: true
#! GEOæ–‡ä»¶åŠ è½½æ¨¡å¼ [standard|memconservative]
#! standard:æ ‡å‡†åŠ è½½å™¨
#! memconservative:ä¸“ä¸ºå†…å­˜å—é™(å°å†…å­˜)è®¾å¤‡ä¼˜åŒ–çš„åŠ è½½å™¨
geodata-loader: memconservative
#! è‡ªå®šGEOä¸‹è½½åœ°å€
geox-url:
  geoip: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"

### Tunè®¾ç½®
tun:
  enable: true
  #! TCP/IP æ ˆ [system|gvisor|lwip]
  #! system:æœ‰æ—¶æ€§èƒ½æ›´å¥½
  #! gvisor:å…¼å®¹æ€§è¾ƒå¥½
  #! lwip:åŸºæœ¬ä¸Šå¯„äº†
  stack: system
  dns-hijack:
    - 0.0.0.0:53
  auto-detect-interface: true   # è‡ªåŠ¨è¯†åˆ«å‡ºå£ç½‘å¡
  auto-route: true              # é…ç½®è·¯ç”±è¡¨
  mtu: 1450                     # æœ€å¤§ä¼ è¾“å•å…ƒ
  # strict-route: true          # å°†æ‰€æœ‰è¿žæŽ¥è·¯ç”±åˆ°tunæ¥é˜²æ­¢æ³„æ¼,ä½†ä½ çš„è®¾å¤‡å°†æ— æ³•å…¶ä»–è®¾å¤‡è¢«è®¿é—®

### DNSé…ç½®
dns:
  enable: false
  ipv6: true
  prefer-h3: true               # å¼€å¯ DoH æ”¯æŒ HTTP/3,å°†å¹¶å‘å°è¯•
  ipv6-timeout: 300             # å•ä½:ms,å†…éƒ¨åŒæ ˆå¹¶å‘æ—¶,å‘ä¸Šæ¸¸æŸ¥è¯¢ AAAA æ—¶,ç­‰å¾… AAAA çš„æ—¶é—´ï¼Œé»˜è®¤ 100ms
  listen: 198.18.0.1:53         # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬ (âš è­¦å‘Š: å¦‚æžœåº”ç”¨åœ¨ç½‘å…³æˆ–è·¯ç”±å™¨(æˆ–å…¶ä»–ä»»ä½•æ‹¥æœ‰æœ¬åœ°DNSæœåŠ¡çš„è®¾å¤‡)ä¸Š,æ­¤é¡¹åº”å½“è¢«æ³¨é‡Šæˆ–é‡æ–°å®šä¹‰åœ°å€ç«¯å£ä»¥é¿å…å¯èƒ½çš„å†²çªé£Žé™©)
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/15
  use-hosts: true # æŸ¥è¯¢ hosts
  #! é…ç½®ä¸ä½¿ç”¨fake-ipçš„åŸŸå
  fake-ip-filter:
    - +.stun.*.*
    - +.stun.*.*.*
    - +.stun.*.*.*.*
    - +.stun.*.*.*.*.*
    - "*.n.n.srv.nintendo.net"
    - +.stun.playstation.net
    - xbox.*.*.microsoft.com
    - "*.*.xboxlive.com"
    - "*.msftncsi.com"
    - "*.msftconnecttest.com"
    - WORKGROUP

  #! ç”¨äºŽè§£æžnameserver,fallbackä»¥åŠå…¶ä»–DNSæœåŠ¡å™¨é…ç½®çš„DNSæœåŠ¡åŸŸå
  default-nameserver:
    #! DNS
    - 223.5.5.5                         # ä¸­å›½å¤§é™†::é˜¿é‡Œ
    - 119.29.29.29                      # ä¸­å›½å¤§é™†::è…¾è®¯
    #- 1.1.1.1                          # çŽ¯å¤§é™†::Cloudflare
    #- 8.8.8.8                          # çŽ¯å¤§é™†::Google
    #- 9.9.9.9                          # çŽ¯å¤§é™†::Quad9
    #! DNS-over-TLS
    #! é€šè¿‡ä¼ è¾“å±‚å®‰å…¨åè®®(TLS)æ¥åŠ å¯†å¹¶æ‰“åŒ…åŸŸåç³»ç»Ÿ(DNS)çš„å®‰å…¨åè®®ã€‚æ­¤åè®®æ—¨åœ¨é˜²æ­¢ä¸­é—´äººæ”»å‡»ä¸ŽæŽ§åˆ¶DNSæ•°æ®ä»¥ä¿æŠ¤ç”¨æˆ·éšç§ã€‚
    #! ä¸­å›½å¤§é™†åœ°åŒºä¸ä¸€å®šæœ‰æ•ˆ
    - tls://223.5.5.5                   # ä¸­å›½å¤§é™†::é˜¿é‡Œ
    - tls://223.6.6.6                   # ä¸­å›½å¤§é™†::é˜¿é‡Œ
    - tls://1.12.12.12                  # ä¸­å›½å¤§é™†::è…¾è®¯
    - tls://120.53.53.53                # ä¸­å›½å¤§é™†::è…¾è®¯
    #- tls://1.1.1.1                     # çŽ¯å¤§é™†::Cloudflare
    #- tls://1.0.0.1                     # çŽ¯å¤§é™†::Cloudflare
    #- tls://8.8.8.8                     # çŽ¯å¤§é™†::Google
    #- tls://8.8.4.4                     # çŽ¯å¤§é™†::Google
    #- tls://185.222.222.222             # çŽ¯å¤§é™†::DNS.SB
    #- tls://185.184.222.222             # çŽ¯å¤§é™†::DNS.SB
    #- tls://9.9.9.9                     # çŽ¯å¤§é™†::Quad9
    #- tls://149.112.112.10              # çŽ¯å¤§é™†::Quad9

    - system                            # ç‰¹æ®Š::ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ (åœ¨ä¸€äº›ç‰ˆæœ¬çš„æ ¸å¿ƒä¸Šå¯èƒ½ä¼šæŠ¥é”™)

  #! DNSä¸»è¦åŸŸåé…ç½® [UDP|TCP|DoT|DoH|DoQ]
  #! è¿™éƒ¨åˆ†ä¸ºä¸»è¦ DNS é…ç½®ï¼Œå½±å“æ‰€æœ‰ç›´è¿žï¼Œç¡®ä¿ä½¿ç”¨å¯¹å¤§é™†è§£æžç²¾å‡†çš„ DNS
  nameserver:
    #! DNS
    #- 223.5.5.5                        # ä¸­å›½å¤§é™†::é˜¿é‡Œ
    #- 119.29.29.29                     # ä¸­å›½å¤§é™†::è…¾è®¯
    #- 1.1.1.1                          # çŽ¯å¤§é™†::Cloudflare
    #- 8.8.8.8                          # çŽ¯å¤§é™†::Google
    #- 9.9.9.9                          # çŽ¯å¤§é™†::Quad9

    #! DNS-over-TLS
    #! é€šè¿‡ä¼ è¾“å±‚å®‰å…¨åè®®(TLS)æ¥åŠ å¯†å¹¶æ‰“åŒ…åŸŸåç³»ç»Ÿ(DNS)çš„å®‰å…¨åè®®ã€‚æ­¤åè®®æ—¨åœ¨é˜²æ­¢ä¸­é—´äººæ”»å‡»ä¸ŽæŽ§åˆ¶DNSæ•°æ®ä»¥ä¿æŠ¤ç”¨æˆ·éšç§ã€‚
    #! ä¸­å›½å¤§é™†åœ°åŒºä¸ä¸€å®šæœ‰æ•ˆ
    - tls://223.5.5.5                  # ä¸­å›½å¤§é™†::é˜¿é‡Œ
    - tls://223.6.6.6                  # ä¸­å›½å¤§é™†::é˜¿é‡Œ
    - tls://1.12.12.12                 # ä¸­å›½å¤§é™†::è…¾è®¯
    - tls://120.53.53.53               # ä¸­å›½å¤§é™†::è…¾è®¯
    #- tls://1.1.1.1                    # çŽ¯å¤§é™†::Cloudflare
    #- tls://1.0.0.1                    # çŽ¯å¤§é™†::Cloudflare
    #- tls://8.8.8.8                    # çŽ¯å¤§é™†::Google
    #- tls://8.8.4.4                    # çŽ¯å¤§é™†::Google
    #- tls://185.222.222.222            # çŽ¯å¤§é™†::DNS.SB
    #- tls://185.184.222.222            # çŽ¯å¤§é™†::DNS.SB
    #- tls://9.9.9.9                    # çŽ¯å¤§é™†::Quad9
    #- tls://149.112.112.10             # çŽ¯å¤§é™†::Quad9
    
    #! DNS-over-HTTP
    - "https://dns.alidns.com/dns-query"
    - "https://doh.pub/dns-query"

    - system
  fallback: []
  #! ä¸“ç”¨äºŽèŠ‚ç‚¹åŸŸåè§£æžçš„ DNS æœåŠ¡å™¨ï¼Œéžå¿…è¦é…ç½®é¡¹
  #! é…ç½®æœåŠ¡å™¨è‹¥æŸ¥è¯¢å¤±è´¥å°†ä½¿ç”¨ nameserver
  # proxy-server-nameserver:
  # - https://dns.google/dns-query
  # - tls://one.one.one.one

use: &All-Subscriptions
  type: select
  use:
    - è®¢é˜…çš„åå­—,å¿…é¡»ä¸Žä¸‹é¢çš„ä¸€æ ·          # éœ€è¦ä¿®æ”¹
    - Subscription2                      # å¦‚æžœæœ‰å¤šä¸ªè®¢é˜…å°±æ¢è¡Œè¾“å…¥ç¬¬äºŒä¸ªçš„åå­—ï¼Œå¦‚Subscription2æ‰€ç¤ºï¼Œå¦‚æžœæ²¡æœ‰ï¼Œå°±åˆ é™¤æœ¬è¡Œå’Œä¸‹é¢çš„Subscription2

# å…¨éƒ¨çš„è®¢é˜…ç»„
proxy-providers:
  è®¢é˜…çš„åå­—,å»ºè®®ä¸Žä¸‹é¢çš„ä¸€æ ·:    # éœ€è¦ä¿®æ”¹
    type: http
    url: "è®¢é˜…çš„URL"            # éœ€è¦ä¿®æ”¹
    interval: 86400
    path: ./Clash.Meta/Subscribe/è®¢é˜…çš„åå­—,å»ºè®®ä¸Žä¸Šé¢çš„ä¸€æ ·.yaml # éœ€è¦ä¿®æ”¹
    health-check:
      enable: true
      interval: 300
      url: http://www.apple.com/library/test/success.html
  
  # ç¤ºä¾‹ï¼Œéœ€è¦åˆ é™¤
  Subscription2:    
    type: http
    url: "https://Subscription2.com/114514"            
    interval: 86400
    path: ./Clash.Meta/Subscribe/Subscription2.yaml
    health-check:
      enable: true
      interval: 300
      url: http://www.apple.com/library/test/success.html

# ç¤ºä¾‹ï¼Œæ‰‹åŠ¨æ·»åŠ ä»£ç†
proxies:
  - {"name":"ðŸ–§ Clash.Meta","type":"socks5","server":"127.0.0.1","port":6155,"udp":true}

proxy-groups:
  - name: "ðŸŒŽ å…¨çƒåŠ é€Ÿ"
    type: select
    proxies:
      - ðŸ”® è´Ÿè½½å‡è¡¡
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ðŸŽ¯ æ‰‹åŠ¨é€‰æ‹©
      - ðŸš€ ä¸“çº¿èŠ‚ç‚¹
      - ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ðŸ‡¹ðŸ‡¼ å°æ¹¾èŠ‚ç‚¹
      - ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹
      - ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹
  - name: "ðŸŽ¯ æ‰‹åŠ¨é€‰æ‹©"
    type: select
    proxies:
      - ðŸ–§ Clash.Meta
    <<: *All-Subscriptions
  - name: "ðŸŽ­ é»‘ç™½åå•"
    type: select
    proxies:
      - ðŸŒŽ å…¨çƒåŠ é€Ÿ
      - DIRECT
  # å›½é™…åª’ä½“
  - name: "ðŸ“½ å›½é™…åª’ä½“"
    type: select
    proxies:
      - ðŸŒŽ å…¨çƒåŠ é€Ÿ
      - ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ðŸ‡¹ðŸ‡¼ å°æ¹¾èŠ‚ç‚¹
      - ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹
      - ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹
  # å·¨ç¡¬æœåŠ¡
  - name: "ðŸ—„ï¸ å·¨ç¡¬æœåŠ¡"
    type: select
    proxies:
      - ðŸŒŽ å…¨çƒåŠ é€Ÿ
      - ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ðŸ‡¹ðŸ‡¼ å°æ¹¾èŠ‚ç‚¹
      - ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹
      - ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹
  # æ¸¸æˆåŠ é€Ÿ
  - name: "ðŸŽ® æ¸¸æˆåŠ é€Ÿ"
    type: select
    proxies:
      - ðŸŒŽ å…¨çƒåŠ é€Ÿ
      - ðŸŽ¯ æ‰‹åŠ¨é€‰æ‹©
    <<: *All-Subscriptions
    filter: "æ¸¸æˆ"
  # æ¸¯å°ç•ªå‰§
  - name: "ðŸ“º æ¸¯å°ç•ªå‰§"
    type: select
    proxies:
      - DIRECT
      - ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ðŸ‡¹ðŸ‡¼ å°æ¹¾èŠ‚ç‚¹
  ##### è‡ªåŠ¨æµ‹é€ŸèŠ‚ç‚¹ #####
  - name: "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
    type: url-test
    <<: *All-Subscriptions
    filter: "^((?!(è¯•ç”¨|å‰©ä½™|é‡ç½®|åˆ°æœŸ|æ¸¸æˆ|æ›´æ–°|æµ·å¤–|ä¸“çº¿|IPLC)).)*$"
    url: "https://cp.cloudflare.com"
    interval: 300
    tolerance: 25
    lazy: true

  - name: "ðŸš€ ä¸“çº¿èŠ‚ç‚¹"
    type: url-test
    <<: *All-Subscriptions
    filter: "(?=.*(IPLC|ä¸“çº¿))^((?!(è¯•ç”¨|æ¸¸æˆ)).)*$"
    url: "https://cp.cloudflare.com"
    interval: 300
    tolerance: 25
    lazy: true

  - name: "ðŸ”® è´Ÿè½½å‡è¡¡"
    type: load-balance
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      #- ðŸŽ¯ æ‰‹åŠ¨é€‰æ‹©
      - ðŸš€ ä¸“çº¿èŠ‚ç‚¹
    url: "https://cp.cloudflare.com"
    interval: 300
    lazy: true
    strategy: consistent-hashing

  - name: "ðŸ‡­ðŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
    type: url-test
    <<: *All-Subscriptions
    filter: "(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾Ž|æ¸¸æˆ)).)*$"
    url: "https://cp.cloudflare.com"
    interval: 300
    tolerance: 25
    lazy: true

  - name: "ðŸ‡¹ðŸ‡¼ å°æ¹¾èŠ‚ç‚¹"
    type: url-test
    <<: *All-Subscriptions
    filter: "(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾Ž|æµ·å¤–)).)*$"
    url: "https://cp.cloudflare.com"
    interval: 300
    tolerance: 25
    lazy: true

  - name: "ðŸ‡¸ðŸ‡¬ ç‹®åŸŽèŠ‚ç‚¹"
    type: url-test
    <<: *All-Subscriptions
    filter: "(?=.*(æ–°|ç‹®|ç…|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾Ž|æ–°è¥¿å…°)).)*$"
    url: "https://cp.cloudflare.com"
    interval: 300
    tolerance: 25
    lazy: true

  - name: "ðŸ‡¯ðŸ‡µ æ—¥æœ¬èŠ‚ç‚¹"
    type: url-test
    <<: *All-Subscriptions
    filter: "(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾Ž|æ¸¸æˆ)).)*$"
    url: "https://cp.cloudflare.com"
    interval: 300
    tolerance: 25
    lazy: true

  - name: "ðŸ‡ºðŸ‡¸ ç¾Žå›½èŠ‚ç‚¹"
    type: url-test
    <<: *All-Subscriptions
    filter: "(?=.*(ç¾Ž|US|(?i)States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|äºšç¾Žå°¼äºš)).)*$"
    url: "https://cp.cloudflare.com"
    interval: 300
    tolerance: 25
    lazy: true

rule-providers:
  # åŽ»å¹¿å‘Š
  Advertising:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Advertising/Advertising_Classical.yaml"
    path: ./Clash.Meta/Rule/Advertising.yaml
    interval: 86400
  Anti-AD:
    type: http
    behavior: domain
    url: "https://anti-ad.net/clash.yaml"
    path: ./Clash.Meta/Rule/Anti-AD.yaml
    interval: 86400
  # å›½é™…åª’ä½“
  YouTube:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/YouTube/YouTube.yaml"
    path: ./Clash.Meta/Rule/YouTube.yaml
    interval: 86400
  Bahamut:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Bahamut/Bahamut.yaml"
    path: ./Clash.Meta/Rule/Bahamut.yaml
    interval: 86400
  Bilibili:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/ALyCE233/Bili-UPOS-Roaming/main/BiliBili-Clash.yml"
    path: ./Clash.Meta/Rule/Bilibili.yaml
    interval: 86400
  # å·¨ç¡¬æœåŠ¡
  Bing:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Bing/Bing.yaml"
    path: ./Clash.Meta/Rule/Bing.yaml
    interval: 86400
  MicrosoftEdge:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/MicrosoftEdge/MicrosoftEdge.yaml"
    path: ./Clash.Meta/Rule/MicrosoftEdge.yaml
    interval: 86400
  OneDrive:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OneDrive/OneDrive.yaml"
    path: ./Clash.Meta/Rule/OneDrive.yaml
    interval: 86400
  # æ¸¸æˆ
  Epic:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Epic/Epic.yaml"
    path: ./Clash.Meta/Rule/Epic.yaml
    interval: 86400
  # ä¸‹è½½
  Download:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Download/Download.yaml"
    path: ./Clash.Meta/Rule/Download.yaml
    interval: 86400
  # æœ¬åœ°å±€åŸŸç½‘åœ°å€
  LAN:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Lan/Lan.yaml"
    path: ./Clash.Meta/Rule/LAN.yaml
    interval: 86400
  # ä¸­å›½å¤§é™†
  China:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/cn_domain.yaml"
    path: ./Clash.Meta/Rule/China.yaml
    interval: 86400

rules:
  ### ======= æœ¬åœ°å±è”½ ======= ###
  - IP-CIDR,203.107.1.0/24,REJECT,no-resolve
  - IP-CIDR,118.89.204.198/23,REJECT,no-resolve
  - IP-CIDR,119.29.29.98/32,REJECT,no-resolve
  - IP-CIDR6,2402:4e00:1200:ed00:0:9089:6dac:96b6/40,REJECT,no-resolve

  ### ======= æœ¬åœ°æµ‹è¯• ======= ###

  ### ======= å¾®è½¯ç½‘ç»œè¿žæŽ¥æµ‹è¯• ======= ###
  - DOMAIN,dns.msftncsi.com,DIRECT
  - DOMAIN,www.msftncsi.com,DIRECT
  - DOMAIN,www.msftconnecttest.com,DIRECT
  - DOMAIN,ipv6.msftconnecttest.com,DIRECT

  ### ======= Steam ======= ###
  - DOMAIN-SUFFIX,steamcommunity.com,ðŸŽ® æ¸¸æˆåŠ é€Ÿ
  - DOMAIN-SUFFIX,cm.steampowered.com,DIRECT
  - DOMAIN-SUFFIX,steamserver.net,DIRECT

  ### ======= RULE-SET ======= ###
  - RULE-SET,Advertising,REJECT
  - RULE-SET,Anti-AD,REJECT
  - RULE-SET,YouTube,ðŸ“½ å›½é™…åª’ä½“
  - RULE-SET,Bahamut,ðŸ‡¹ðŸ‡¼ å°æ¹¾èŠ‚ç‚¹
  - RULE-SET,Bilibili,ðŸ“º æ¸¯å°ç•ªå‰§
  - RULE-SET,Bing,ðŸ—„ï¸ å·¨ç¡¬æœåŠ¡
  - RULE-SET,MicrosoftEdge,ðŸ—„ï¸ å·¨ç¡¬æœåŠ¡
  - RULE-SET,OneDrive,ðŸ—„ï¸ å·¨ç¡¬æœåŠ¡
  - RULE-SET,Epic,ðŸŽ® æ¸¸æˆåŠ é€Ÿ
  - RULE-SET,HSR,ðŸŽ® æ¸¸æˆåŠ é€Ÿ,no-resolve
  - RULE-SET,LAN,DIRECT
  - RULE-SET,China,DIRECT

  ### ======= GEOSITE ======= ###
  - GEOSITE,Category-Ads-All,REJECT
  #- GEOSITE,Tracker,REJECT
  - GEOSITE,Win-Spy,REJECT
  #- GEOSITE,Win-Extra,REJECT
  - GEOSITE,Apple-CN,DIRECT
  #- GEOSITE,Microsoft@CN,DIRECT
  - GEOSITE,Steam@CN,DIRECT
  - GEOSITE,CN,DIRECT
  
  ### ======= GEOIP ======= ###
  - GEOIP,CN,DIRECT,no-resolve

  ### ======= P2Pä¸‹è½½ ======= ###
  - RULE-SET,Download,DIRECT
  
  ### ======= å…¶ä»– ======= ###
  - MATCH,ðŸŽ­ é»‘ç™½åå•
